(()=>{"use strict";var e={67313:(e,t,n)=>{n.d(t,{IA:()=>i});n(44718);var a,o=n(7839),r=n(22714);(function(e){e[e["Success"]=200]="Success",e[e["BadRequest"]=400]="BadRequest",e[e["NotFound"]=404]="NotFound",e[e["TooManyRequests"]=429]="TooManyRequests",e[e["ServerError"]=500]="ServerError",e[e["NotImplemented"]=501]="NotImplemented"})(a||(a={}));const i=(e,t)=>"string"===typeof e?e:t===o.zc.FormUrlEncoded?(0,r.m2)(e):JSON.stringify(e)},32067:(e,t,n)=>{var a,o,r;n.d(t,{wg:()=>a}),function(e){e["AmkClientWrapper"]="amk-client",e["TestClient"]="test-client",e["CommerceKitClient"]="commercekit-client",e["MockClient"]="mock-client"}(a||(a={})),function(e){e["Login"]="login",e["Logout"]="logout",e["AlreadySubscribed"]="already-subscribed",e["SubscribeSuccess"]="subscribe-success",e["Redeem"]="redeem"}(o||(o={})),function(e){e["MusicOnboarding"]="onboarding",e["TvMls"]="mls"}(r||(r={}))},64382:(e,t,n)=>{n.d(t,{LT:()=>o,gi:()=>r,T2:()=>s,t8:()=>p,zd:()=>i});n(23395),n(87246),n(96391);var a=n(32067);const o={idms2:"https://appleid-qa1.corp.apple.com",idms1:"https://appleid-ut.corp.apple.com",idms_stage:"https://appleid-stage.apple.com",idms_prod:"https://appleid.apple.com",idms2_account:"https://account-qa1.corp.apple.com",idms1_account:"https://account-ut.corp.apple.com",idms_stage_account:"https://account-stage.apple.com",idms_prod_account:"https://account.apple.com"},r=e=>e.name===a.wg.CommerceKitClient,i=()=>{const e=window.parent;return e!==window};let c;const s=()=>void 0!==c?c:c=i()&&(document.referrer.includes("https://appleid")||document.referrer.includes("https://account")||window.location.search.includes("wid=")),p=e=>Object.keys(o).includes(e)},22418:(e,t,n)=>{n.d(t,{Nk:()=>a,Y1:()=>o});n(80978);const a=e=>"object"===typeof e&&!!e&&"userinfo"in e,o=e=>"errorMessageKey"in e||"errorType"in e;class r extends Error{constructor(e){super(e)}toString(){return"UnsupportedArgumentsError: {$this.messsage}"}}},36126:(e,t,n)=>{var a,o,r,i,c,s;n(70309),n(23395);(function(e){e["Alipay"]="APWC",e["AlipayHongKong"]="APHK",e["ApplePayClassic"]="applePayClassic",e["Bancontact"]="BANCONTACT",e["Blik"]="BLIK",e["Carrier"]="CBXX",e["CreditCard"]="CreditCard",e["Dana"]="DANA",e["Eps"]="EPS",e["Gcash"]="GCASH",e["GoPay"]="GoPay",e["Ideal"]="IDEAL",e["Kakao"]="KAKO",e["KoreanCard"]="KoreanCard",e["Momo"]="MOMO",e["NetBanking"]="NetBanking",e["None"]="None",e["PayCash"]="PayCash",e["PayEase"]="PayEase",e["PayMaya"]="MAYA",e["PayPal"]="PayPal",e["Payco"]="PAYCO",e["Paytm"]="PYTM",e["Pypy"]="PYPY",e["RuPay"]="RuPay",e["Shpy"]="SHPY",e["StoreCredit"]="storeCredit",e["TouchNGo"]="TNG",e["Upi"]="UPI",e["WeChat"]="WCPY"})(a||(a={})),function(e){e[e["Requires3dSecure"]=9980]="Requires3dSecure",e[e["RequiresExternalVerification"]=9990]="RequiresExternalVerification",e[e["RequiresTokenConfirmation"]=9991]="RequiresTokenConfirmation"}(o||(o={})),function(e){e[e["Fail"]=-1]="Fail",e[e["Success"]=0]="Success"}(r||(r={})),function(e){e["NoChange"]="dontchange",e["Verify"]="otp",e["Verified"]="otpVerified",e["Sms"]="sms",e["Http"]="http"}(i||(i={})),function(e){e[e["CNPJ"]=14]="CNPJ",e[e["CPF"]=11]="CPF"}(c||(c={})),function(e){e["Cpf"]="Brazil_CPF",e["Cnpj"]="Brazil_CNPJ"}(s||(s={}));a.PayPal,a.WeChat,a.Alipay,a.Kakao,a.AlipayHongKong,a.Paytm,a.TouchNGo,a.Momo,a.PayMaya,a.Gcash,a.Dana,a.Payco,a.Shpy,a.Pypy;var p,u,l,d;(function(e){e["BankTransfer"]="BANK_TRANSFER",e["Wallet"]="WALLET"})(p||(p={})),function(e){e["AmericanExpress"]="Amex",e["ChinaUnionPay"]="UPCC",e["DinersClub"]="Diners Club",e["Discover"]="Discover",e["Lotte"]="LOTTE",e["Maestro"]="Switch",e["MasterCard"]="MasterCard",e["Visa"]="Visa"}(u||(u={})),function(e){e["ChinaUnionPay"]="UPDC"}(l||(l={})),function(e){e["Credit"]="CREDIT",e["Debit"]="DEBIT",e["CupDebit"]="19",e["CupCredit"]="18"}(d||(d={}));var m,h,y;(function(e){e["ADD_PAYMENT"]="addPayment",e["EDIT_PAYMENT"]="editPayment",e["ADD_FUNDS"]="addFunds",e["EDIT_ADDRESS"]="editAddress",e["RECOVERY"]="recovery"})(m||(m={})),function(e){e["FAMILY"]="family",e["PERSONAL"]="personal"}(h||(h={})),function(e){e["PERSONAL_WALLET"]="PERSONAL_WALLET",e["FAMILY_MEMBER_HOH_WALLET"]="FAMILY_MEMBER_HOH_WALLET"}(y||(y={}))},7839:(e,t,n)=>{n.d(t,{zc:()=>a});n(36126);var a;(function(e){e["Json"]="application/json",e["FormUrlEncoded"]="application/x-www-form-urlencoded"})(a||(a={}))},38482:(e,t,n)=>{n.d(t,{Be:()=>r,Dc:()=>o,ek:()=>i,kX:()=>a});n(70309);const a=e=>{let t=null;return(...n)=>t||(t=e(...n).finally((()=>{t=null})),t)},o=e=>new Promise((t=>setTimeout(t,e)));function r(e,t,n){return Promise.race([e,new Promise(((e,a)=>setTimeout(a,t,new n)))])}const i=(e,t)=>Promise.race([e,new Promise(((e,n)=>setTimeout(n,t)))])},14990:(e,t,n)=>{n.d(t,{CA:()=>a});const a="SERVER_ERROR"},73337:(e,t,n)=>{n.d(t,{Ct:()=>m,Ew:()=>b,iO:()=>p,mc:()=>v,nl:()=>c});n(80978),n(65978),n(60647);var a=n(22418),o=n(14990),r=n(31364);class i extends Error{}class c extends Error{constructor(e,t={}){var n,a;super(),this.name=o.CA;const{url:i,status:c,body:s,domain:p,errorType:u,errorMessageKey:l,amsErrorCode:d,details:m}=t;if(i?(this.url=(0,r.aX)(i),this.message=`${e}: ${this.url}`):this.message=e,c&&(this.status=parseInt(c.toString(),10)),this.body=s||(null===m||void 0===m?void 0:m.AMSServerPayload),this.domain=p,this.errorType=u,this.amsErrorCode=d,this.details=m,l)this.errorMessageKey=l;else{const{errorMessageKey:e}=(null===m||void 0===m?void 0:m.AMSServerPayload)||{},{errorMessageKey:t}=s||{},{errorString:o}=(null===(a=null===(n=this.body)||void 0===n?void 0:n.validationErrors)||void 0===a?void 0:a[0])||{};this.errorMessageKey=e||t||o}}get code(){return this.status}}class s extends Error{constructor(e){super(),this.name="DialogErrorResponse",this.message=e}}Error,Error,Error,Error,Error,Error;const p=class extends Error{constructor(){super("The server is taking too long to respond")}},u=e=>e instanceof c;var l,d;(function(e){e[e["Auth"]=401]="Auth",e[e["ServerUnknown"]=5002]="ServerUnknown"})(l||(l={})),function(e){e[e["AMSErrorCodeCancelled"]=6]="AMSErrorCodeCancelled"}(d||(d={}));const m=e=>{if(u(e))return e;const t="Server Error";if((0,a.Nk)(e)){const{userinfo:n,code:a,title:o,message:r}=e;return new c(o||r||t,{status:n.AMSServerErrorCode||n.AMSStatusCode||a,amsErrorCode:a,details:n})}if((0,a.Y1)(e)){const{status:n,errorType:a,errorMessageKey:o}=e;return new c(t,{status:n,errorType:a,errorMessageKey:o})}const{code:n,localizedDescription:o}=e;return n?new c(o||t,{status:n}):void 0};var h,y;(function(e){e["Auth"]="Authentication",e["TermsAuth"]="MZFinance.TermsCheckLoginRequired",e["MediaLinkInvalidSession"]="MEDIA_LINK_INVALID_SESSION"})(h||(h={})),function(e){e["NoAuthorization"]="MZCommerce.NoAuthorization",e["AlreadyClaimed"]="MZCommerce.HardBundleAlreadyClaimed"}(y||(y={}));const b=e=>{if(!u(e))return!1;const{code:t,errorType:n,errorMessageKey:a}=e;return t===l.Auth||n===h.Auth||a===y.NoAuthorization},v=e=>{if(!u(e))return!1;const{amsErrorCode:t}=e;return t===d.AMSErrorCodeCancelled}},31085:(e,t,n)=>{n(70309),n(87246),n(67904),n(69632)},74270:(e,t,n)=>{n.d(t,{nD:()=>i});n(70309),n(80978),n(40052),n(87246),n(21531),n(69632),n(1205);var a=n(10369),o=n(38482),r=(n(31085),n(16236));const i=a;let c=!1,s="";r.x.Tv,r.x.Music,r.x.Podcasts;(0,o.kX)((async()=>{if(s&&!c){const e=await fetch(`${s}/default-localizations.json`),t=await e.json();return c=!0,t}}))},31364:(e,t,n)=>{n.d(t,{F4:()=>i,Jl:()=>a,aX:()=>o});n(87246),n(67904),n(17125),n(70309),n(84163),n(60647),n(80417),n(40812),n(31629),n(23395);const a=(e,t=!1)=>{const n=new RegExp("([^?=&]+)(=([^&]*))","g"),a=e.match(n);return a?a.reduce(((e,n)=>{const a=n.split("="),o=a[0],r=a[1];return e[o]=t?decodeURIComponent(r):r,e}),{}):{}},o=e=>{const t=new URL(e);return`${t.origin}${t.pathname}`},r={},i=(e,t,n)=>{if(r[t])return r[t];const a=new URLSearchParams(e).get(t);return r[t]=a||n,r[t]}},22714:(e,t,n)=>{n.d(t,{Sr:()=>o,m2:()=>i});n(70309),n(23395),n(87246),n(69632);const a=(e={})=>Object.entries(e).map((([e,t])=>"undefined"!==typeof t&&`${encodeURIComponent(e)}=${encodeURIComponent(t)}`)).filter(Boolean).join("&"),o=(e,t)=>{const n=e.includes("?")?"&":"?";return`${e}${n}${a(t)}`},r=e=>/string|number|boolean/.test(typeof e),i=e=>Object.entries(e).map((([e,t])=>{const n=r(t)?encodeURIComponent(t):`${t}`;return`${encodeURIComponent(e)}=${n}`})).filter(Boolean).join("&")},16236:(e,t,n)=>{var a;n.d(t,{x:()=>a}),function(e){e["Music"]="music",e["Tv"]="tv",e["AppStore"]="apps",e["Business"]="business",e["BusinessEssentials"]="businessessentials",e["ClassicalMusic"]="classical",e["Education"]="education",e["Podcasts"]="podcasts",e["PodcastsConnect"]="podcastcreators",e["SeasonalTV"]="seasonaltv",e["SeasonSubscription"]="seasonsubscription",e["SharedBusiness"]="sharedbusiness",e["SharedEducation"]="sharededucation",e["PodcastsConnectDeprecated"]="xyzw",e["Activate"]="activate",e["Car"]="car",e["Other"]="other"}(a||(a={}))},87081:(e,t,n)=>{var a=n(52117),o=(n(4256),n(92374),n(25079),n(44718),n(87246),n(21531),n(80978),n(53386)),r=n(82737),i=n(70770);const c="https://xp.apple.com",s="https://sandbox.itunes.apple.com",p="https://mzstorekit.itunes.apple.com",u={[o.q.RefundTransactionDetails]:`${p}/inApps/v1/refund/info/{transaction_id}`,[o.q.RefundRequest]:`${p}/inApps/v1/refund`},l={[o.q.ContentBonusOfferRedemptionEnabled]:!1,[o.q.IsPsd2LoggingEnabled]:!0,[o.q.IsBundleEnabled]:!1,[o.q.IsKoreaAgeVerificationEnabled]:!1,[o.q.IsManagePaymentsEnabled]:!1,[o.q.IsStoreCreditGiftingUpdateEnabled]:!1},d={[o.q.DeviceProfileTrustedDomains]:["payments.itunes.apple.com","mr-payments.itunes.apple.com","pv-payments.itunes.apple.com"]},m={},h={},y={[o.q.CommerceUiUrls]:{"v2-url-patterns":["(?:/redeem|redeemLandingPage|freeProductCodeWizard|/account/add-funds|/account/billing|/account/subscriptions)","(?:54a1317a0ad442d3965d64ef6bfaae1c)([/?]|$)","WebObjects/MZFinance.woa/.*manageSubscriptions","WebObjects/MZFinance.woa/.*(useCommerceApp=true)","^https?://sandbox[.]itunes[.]apple[.]com/.*termsPage"]},[o.q.Metrics]:{metricsUrl:`${c}/report`,compoundSeparator:"_",metricsBase:{storeFront:i.F.USA},topics:{MUSIC_UNIDENTIFIED:"xp_amp_music_cs_unidentified",PAYMENTS:"xp_amp_payments",PODCASTS_MAIN:"xp_amp_podcasts_main",RETAIL:"xp_retail_applestore_cs",SUBSCRIPTIONS:"xp_amp_subscriptions_cs",REDEEM:"xp_amp_redeem",TV_UNIDENTIFIED:"xp_amp_tv_unidentified",APPSTORE_UNIDENTIFIED:"xp_amp_appstore_unidentified",MUSIC_WEB_PLAYER:"xp_amp_music_webplayer",RETAIL_BUY:"xp_retail_applestore_cs_identified",ITS_METRICS_TEST:"its_metricstest",MUSIC_MAIN:"xp_its_music_main",SEGMENTATION:"xp_ase_idverify_ue",MAIN:"xp_its_main",APPSTORE:"xp_ase_payments/appstore_payments_ue",APPSTORE_REDEEM:"xp_ase_payments/appstore_redeem_ue",TV_MAIN:"xp_amp_tv_main",PURCHASE_HISTORY:"xp_amp_commerce_ph"}}},b="https://finance-app.itunes.apple.com/",v={[o.q.AccountCardType]:`${r.hW}/account/card/type`,[o.q.AccountCreateWeb]:"https://link.apple.com/account/create/form",[o.q.AccountRecoverySubscription]:`${r.hW}/account/v1/recover/candidates`,[o.q.AccountSettingsAppleIdSiteUrl]:"https://appleid.apple.com",[o.q.AccountSettingsChangeStorefrontUrl]:"itms-ui://finance-app.itunes.apple.com/account/manage-payments/change-storefront?isAccountSummary=true",[o.q.AccountSettingsGraphqlUrl]:"https://buy.itunes.apple.com/account/v1/summary/graphql",[o.q.AccountSummaryUrl]:`${r.hW}/WebObjects/MZFinance.woa/wa/accountSummary`,[o.q.ModifyAccountWk1]:`${r.hW}/WebObjects/MZFinance.woa/wa/accountSummary`,[o.q.AcknowledgeMessage]:`${r.hW}/commerce/messages/app/inbox/acknowledge`,[o.q.AddFundsInfo]:`${r.hW}/commerce/addFunds/info`,[o.q.AddFundsOther]:`${r.$Y}/commerce/addFunds/other`,[o.q.AddFundsSuccess]:`${r.hW}/commerce/addFunds/success`,[o.q.AddFundsUrl]:"",[o.q.ApplePayClassicSettingsUrl]:`${r.hW}/account/applePayClassic/settings`,[o.q.ApplePayEnroll]:`${r.hW}/account/stackable/applePay/enroll`,[o.q.ApplePaySession]:`${r.hW}/account/stackable/applePay/paymentSession`,[o.q.ApsJwsUrl]:`${r.hW}/account/v1/aps/jws/get`,[o.q.ApsJwsUrlNp]:"https://amp-account.itunes.apple.com/account/v1/aps/jws/get",[o.q.AssignSubscriptionBeneficiary]:`${r.hW}/commerce/account/subscriptions/assignBeneficiary`,[o.q.AurumEditAddress]:`${r.hW}/account/billingAddress/{paymentId}/edit`,[o.q.AutoReloadCancel]:`${r.hW}/commerce/addFunds/autoReload/cancel`,[o.q.AutoReloadSuccess]:`${r.hW}/commerce/addFunds/autoReload/success`,[o.q.BankTokenUrl]:`${r.hW}/payment/referenceData/bankToken/list`,[o.q.BuySubscription]:`${r.hW}/commerce/web/buy/subscription`,[o.q.CancelPreorders]:`${r.hW}/commerce/preorders/cancel`,[o.q.CancelSegmentVerificationState]:`${r.Rr}/account/v1/verification/{segment}/{sessionState}/cancel`,[o.q.CharityInfo]:`${r.hW}/commerce/charity`,[o.q.CommerceAppFallbackUrl]:"https://apps.mzstatic.com/content/54a1317a0ad442d3965d64ef6bfaae1c/subscribe",[o.q.ConsentLocalizationUrl]:`${r.Rr}/account/v1/consentLocalization`,[o.q.CreateSegmentVerificationSession]:`${r.Rr}/account/v1/verification/{segment}/session/create`,[o.q.DeauthAllMachines]:`${r.hW}/account/deauthAllMachines`,[o.q.DeleteSegmentVerificationSession]:`${r.Rr}/account/v1/verification/{segment}/session/delete`,[o.q.DynamicConsentUrl]:`${r.hW}/account/v1/dynamicConsent`,[o.q.EditAccountFieldsSrvV2]:`${r.hW}/account/v1/editAccountFields/get`,[o.q.EmailTermsSrv]:`${r.hW}/WebObjects/MZFinance.woa/wa/emailTermsSrv`,[o.q.ExternalVerificationStatus]:`${r.hW}/payment/getExternalVerificationStatus`,[o.q.FinanceAppBaseUrl]:b,[o.q.FinanceManagePayments]:`${b}account/manage-payments`,[o.q.GenerateEmailConfirmationCode]:`${r.Rr}/account/v1/email/generateConfirmationCode`,[o.q.GetAccountPreferences]:"https://speedysub.itunes.apple.com/subscription/v3/manage/account/preferences",[o.q.GetCarmConfigure]:`${r.hW}/WebObjects/MZFinance.woa/wa/getCarmConfigure`,[o.q.GetMusicSDKAuthorizations]:`${r.$Y}/WebObjects/MZPlay.woa/wa/getMusicSDKAuthorizationsSrv`,[o.q.GetOAuth2TVAuthorizations]:`${r.$Y}/WebObjects/MZPlay.woa/wa/getOAuth2TVAuthorizationsSrv`,[o.q.GetSeasonPassPurchase]:`${r.hW}/commerce/seasonPasses/getPurchases`,[o.q.GetConnectedAccountLinks]:`${r.Rr}/account/v1/links/get`,[o.q.GetSegmentOffers]:`${r.Ze}/subscription/v1/employee/offers`,[o.q.GetSegmentVerificationSession]:`${r.Rr}/account/v1/verification/{segment}/session`,[o.q.GetSegmentVerificationStateAuthdbCountryList]:`${r.Rr}/account/v1/verification/{segment}/country`,[o.q.GetSegmentVerificationStateAuthdbForm]:`${r.Rr}/account/v1/verification/{segment}/authdb/form`,[o.q.GetSegmentVerificationStateAuthdbSchoolList]:`${r.Rr}/account/v1/verification/{segment}/school/search`,[o.q.GetSubscriptionOffersSrv]:`${r.hW}/WebObjects/MZFinance.woa/wa/getSubscriptionOffersSrv`,[o.q.GetSubscriptionsInfoSrv]:`${r.hW}/commerce/account/subscriptions/detail`,[o.q.GetSubscriptionsSrv]:`${r.hW}/commerce/account/subscriptions`,[o.q.GetAllTermsAndConsents]:`${r.Rr}/account/v1/compliance/terms/all`,[o.q.GetConsentInfo]:`${r.Rr}/account/v1/compliance/terms/info`,[o.q.PostConsent]:`${r.Rr}/account/v1/compliance/terms/updateConsent`,[o.q.GetTermsByCountryAndTypeSrv]:`${r.hW}/account/info/terms`,[o.q.GetVerificationSessionHelpUrl]:`${r.Rr}/account/v1/verification/{segment}/help`,[o.q.GetVerificationUrl]:`${r.hW}/commerce/payments/getVerificationUrl`,[o.q.IdVerificationFieldsSrv]:`${r.hW}/account/idverification/fields`,[o.q.InferPaymentUpdate]:`${r.hW}/account/v1/inferPayment/update`,[o.q.InitiateChallenge]:`${r.hW}/account/challenge/initiate`,[o.q.InitiateIdVerification]:`${r.hW}/account/idverification/initiate`,[o.q.InvoiceReductionSrv]:`${r.hW}/commerce/account/flags/generic`,[o.q.IsUsingSharedPayment]:`${r.hW}/account/v1/sharedPayment/isUsingSharedPayment`,[o.q.LegacyEditBillingInfoSrvV2]:`${r.hW}/account/v1/nonstackable/paymentInfos/edit`,[o.q.LinkSegmentVerificationToken]:`${r.Rr}/account/v1/verification/{segment}/link`,[o.q.LoadCreateAccountFieldsSrv]:`${r.$Y}/WebObjects/MZPlay.woa/wa/createAccountFieldsSrv`,[o.q.ManageDevicesSlotInfo]:`${r.hW}/account/v1/devices/manageDevicesSlotInfo`,[o.q.ManagePaymentsUrl]:`${b}account/manage-payments`,[o.q.MessagingUrl]:`${r.Ze}/subscription/v3/messaging/{context}`,[o.q.OverlappingPlans]:`${r.Ze}/subscription/v3/manage/overlappingPlans`,[o.q.GroupPaymentInfo]:`${r.kh}/account/v1/groupaccount/stackable/paymentInfos`,[o.q.GroupPaymentAdd]:`${r.kh}/account/v1/groupaccount/stackable/paymentInfos/edit`,[o.q.GroupPaymentEdit]:`${r.kh}/account/v1/groupaccount/stackable/paymentInfos/edit`,[o.q.GroupPaymentRemove]:`${r.kh}/account/v1/groupaccount/stackable/paymentInfos/{paymentId}/delete`,[o.q.PaymentAddV2]:`${r.hW}/account/v1/stackable/paymentInfos/add`,[o.q.PaymentAdd]:`${r.hW}/WebObjects/MZFinance.woa/wa/addOrEditBillingInfoSrv`,[o.q.PaymentEditV2]:`${r.hW}/account/v1/stackable/paymentInfos/{paymentId}/edit`,[o.q.PaymentEdit]:`${r.hW}/WebObjects/MZFinance.woa/wa/addOrEditBillingInfoSrv`,[o.q.PaymentInfosAdd]:`${r.hW}/account/v1/stackable/paymentInfos/add`,[o.q.PaymentInfosEdit]:`${r.hW}/account/v1/stackable/paymentInfos/{paymentId}/edit`,[o.q.PaymentInfosRemoveApplePayClassic]:`${r.hW}/account/applePayClassic/paymentInfos/{paymentId}/delete`,[o.q.PaymentInfosRemove]:`${r.hW}/account/stackable/paymentInfos/{paymentId}/delete`,[o.q.PaymentInfos]:`${r.hW}/account/stackable/paymentInfos`,[o.q.PaymentLegacyEditV2]:`${r.hW}/account/v1/nonstackable/paymentInfos/edit`,[o.q.PaymentOptions]:`${r.hW}/account/paymentOptions`,[o.q.PaymentsAndShippingUrl]:`${b}account/manage-payments`,[o.q.PostSegmentVerificationStateAuthdbForm]:`${r.Rr}/account/v1/verification/{segment}/authdb/verify`,[o.q.PostSegmentVerificationStateDocumentReviewForm]:`${r.Rr}/account/v1/verification/{segment}/doc/upload`,[o.q.PostSegmentVerificationStateEmailCode]:`${r.Rr}/account/v1/verification/{segment}/email/confirm`,[o.q.PostSegmentVerificationStateEmailForm]:`${r.Rr}/account/v1/verification/{segment}/email/domain/verify`,[o.q.PostSegmentVerificationStateSingleSignOnForm]:`${r.Rr}/account/v1/verification/{segment}/sso`,[o.q.PreferredRenewalOption]:`${r.Ze}/subscription/v3/manage/renewalOption`,[o.q.PreordersUrl]:`${b}account/preorders`,[o.q.Preorders]:`${r.hW}/commerce/preorders/cancellable`,[o.q.Privileges]:`${r.hW}/account/v1/sharedPayment/privileges`,[o.q.ProductInfo]:`${r.hW}/commerce/productInfo`,[o.q.Psd2LoggingUrl]:`${r.hW}/payment/psd2SessionState`,[o.q.PurchaseHistoryUrl]:`${b}purchases`,[o.q.PvkBiometricsOnlyAuth]:`${r.Rr}/account/v1/pvk/email/biometricsOnlyAuth`,[o.q.PvkEmailGenerateCodeUrl]:`${r.Rr}/account/v1/pvk/email/generateConfirmationCode`,[o.q.PvkEmailValidateCodeUrl]:`${r.Rr}/account/v1/pvk/email/validateConfirmationCode`,[o.q.PvkEmailWaterfallUrl]:`${r.Rr}/account/v1/pvk/methods`,[o.q.RatingsAndReviews]:"https://userpub.itunes.apple.com/WebObjects/MZUserPublishing.woa/wa/manageUserReviews",[o.q.RemoveReview]:"https://userpub.itunes.apple.com/WebObjects/MZUserPublishing.woa/wa/removeUserReview",[o.q.RedeemCodeSrv]:`${r.hW}/commerce/redeemCodeSrv`,[o.q.RedeemCodeDetails]:`${r.hW}/commerce/codeDetails`,[o.q.RedeemDeclineBonus]:`${r.hW}/commerce/content/declineBonus`,[o.q.RedeemInfo]:`${r.hW}/commerce/redeemInfo`,[o.q.RedeemLandingUrl]:"https://apps.apple.com/redeem/",[o.q.RedeemMarketingUrl]:"https://apps.apple.com/redeem/promo/api/v1/redirect",[o.q.RedeemValidateIdUrl]:`${r.hW}/WebObjects/MZFinance.woa/wa/redeemValidateId`,[o.q.Redirect3dSecureUrl]:`${r.hW}/WebObjects/MZFinance.woa/wa/secure3dRedirect`,[o.q.ReinitiateIdVerification]:`${r.hW}/account/idverification/reinitiate`,[o.q.RemoveConnectedAccount]:`${r.Rr}/account/v1/links/unlink`,[o.q.RemoveDeviceSlot]:`${r.hW}/account/v1/devices/removeDeviceSlot/{guid}`,[o.q.RepairSubscriptionUsingExternalVerification]:`${r.hW}/account/payments/repairSubscriptionUsingExternalVerification`,[o.q.ResendCarmOtp]:`${r.hW}/WebObjects/MZFinance.woa/wa/resendCarmOtp`,[o.q.ReverifySegmentStatus]:`${r.Rr}/account/v1/verification/{segment}/reverify`,[o.q.RevokeMusicSDKAuthorization]:`${r.$Y}/WebObjects/MZPlay.woa/wa/revokeMusicSDKAuthorizationSrv`,[o.q.RevokeOAuth2TVAuthorization]:`${r.$Y}/WebObjects/MZPlay.woa/wa/revokeOAuth2TVAuthorizationsSrv`,[o.q.SandboxClearPurchaseHistory]:`${s}/commerce/sandbox/clearPurchaseHistory`,[o.q.SandboxGetIntroOfferStatus]:`${s}/commerce/sandbox/freeTrialStatus`,[o.q.SandboxResetIntroOffer]:`${s}/commerce/sandbox/v2/resetIntroOffer`,[o.q.SandboxSubscriptionRenewalRate]:`${s}/commerce/sandbox/v1/subscription/renewalRate`,[o.q.SaveNickname]:"https://userpub.itunes.apple.com/WebObjects/MZUserPublishing.woa/wa/saveNickname",[o.q.SendCarmOtp]:`${r.hW}/WebObjects/MZFinance.woa/wa/sendCarmOtp`,[o.q.SendSegmentVerificationStateDocumentReviewLink]:`${r.Rr}/account/v1/verification/{segment}/doc/upload/sendDocUploadUrlByEmail`,[o.q.ShippingAddressDelete]:`${r.hW}/account/shippingAddress/delete`,[o.q.ShippingAddressEdit]:`${r.hW}/account/shippingAddress/edit`,[o.q.SpeedybuyConfirmationDialog]:"https://speedybuy.apps.apple.com/web/speedyBuy/subscriptionConfirmationDialog",[o.q.StackableApplePayClassicSubscriptions]:`${r.hW}/account/applePayClassic/paymentInfos/{paymentId}/subscriptionInfos`,[o.q.StackableDeletePayment]:`${r.hW}/account/stackable/paymentInfos`,[o.q.StackablePaymentsWithApplePayClassic]:`${r.hW}/account/applePayClassic/paymentInfos`,[o.q.StackablePaymentsWithApplePay]:`${r.hW}/account/stackable/applePay/paymentInfos`,[o.q.StackablePayments]:`${r.hW}/account/stackable/paymentInfos`,[o.q.StackableReorderPayments]:`${r.hW}/account/stackable/paymentInfos/ordering`,[o.q.StackableReorderWallets]:`${r.hW}/account/v1/stackable/family/wallet/reorder`,[o.q.StartExternalVerification]:`${r.hW}/account/payments/startExternalVerification`,[o.q.SubscriptionNotifications]:`${r.Ze}/subscription/v3/manage/notifications`,[o.q.SubscriptionDetailsV3]:`${r.Ze}/subscription/v3/manage/detail`,[o.q.SubscriptionIcloudStorageDetails]:`${r.Ze}/subscription/v3/manage/getStorageBarInfo`,[o.q.SubscriptionIcloudPlanSelection]:`${r.Ze}/subscription/v1/channel/getPostLinkingPlans`,[o.q.SubscriptionIcloudUseThisPlan]:`${r.hW}/commerce/channel/useThisPlan`,[o.q.SubscriptionImpactMessaging]:`${r.Ze}/subscription/v3/manage/impactMessaging`,[o.q.SubscriptionImpactMessagingSandbox]:"https://mzstorekit-sandbox.itunes.apple.com/inApps/v1/impactMessages",[o.q.SubscriptionUnbundleOptionsV3]:`${r.Ze}/subscription/v3/manage/unbundleOptions`,[o.q.SubscriptionsListV3]:`${r.Ze}/subscription/v3/manage/list`,[o.q.TermsCheck]:`${r.hW}/WebObjects/MZFinance.woa/wa/termsCheckSrv`,[o.q.ToggleAccountFamilySharing]:`${r.hW}/commerce/family/sharing/account/toggle`,[o.q.ToggleFamilySharing]:`${r.hW}/commerce/family/sharing/toggle`,[o.q.ToggleIsUsingSharedPayment]:`${r.hW}/account/v1/sharedPayment/toggleIsUsingSharedPayment`,[o.q.UnbundleSubscriptionOptionsSrv]:`${r.hW}/commerce/account/subscriptions/unbundleOptions`,[o.q.UnbundleSubscriptionSrv]:`${r.hW}/commerce/account/subscriptions/unbundle`,[o.q.UnlinkSegmentStatus]:`${r.Rr}/account/v1/verification/{segment}/unlink`,[o.q.UpdateSeasonPassPurchase]:`${r.hW}/commerce/seasonPasses/updatePurchase`,[o.q.UpdateWithToken]:`${r.Rr}/account/v1/updateWithToken?updateToken={token}`,[o.q.UpdateAutoRenewStateSrv]:`${r.hW}/WebObjects/MZFinance.woa/wa/updateAutoRenewStateSrv`,[o.q.UniversalAcknowledgeMessage]:`${r.hW}/commerce/messages/acknowledge`,[o.q.UpdateIcloudStorageSrv]:`${r.hW}/commerce/account/subscriptions/icloud/update`,[o.q.ValidateAccountForChangeCountrySrvV2]:`${r.hW}/account/v2/changeCountry/validate`,[o.q.ValidateCarm]:`${r.hW}/WebObjects/MZFinance.woa/wa/validateCarm`,[o.q.ValidateEmailConfirmationCode]:`${r.Rr}/account/v1/email/validateConfirmationCode`,[o.q.VerificationKitInit]:`${r.hW}/account/web/infoRefresh`,[o.q.VerificationUrl]:`${r.hW}/commerce/payments/verificationUrl`,[o.q.VerifyChallenge]:`${r.hW}/account/challenge/verify`,[o.q.VerifyIdVerification]:`${r.hW}/account/idverification/verify`,[o.q.VerifyPayment]:`${r.hW}/account/verifyPayment`,[o.q.LinkToPartner]:`${r.hW}/payment/linkToPartner`,[o.q.GetCardType]:`${r.hW}/account/card/type`,[o.q.PrivacyConsentConsent]:`${r.hW}/account/v1/pipl/cbpc/apple/consent`,[o.q.PrivacyConsentDissent]:`${r.hW}/account/v1/pipl/cbpc/apple/dissent`,[o.q.PrivacyConsentQueryConsent]:`${r.hW}/account/v1/pipl/cbpc/isConsentRequired`},f=(0,a.Z)({[o.q.LanguageTag]:"",[o.q.Language]:"en-us",[o.q.IsManageIcloudStorageEnabled]:"false",[o.q.IsInvoiceReductionEnabled]:"false",[o.q.SupportAppAuthTokenId]:"com.apple.gs.supportapp.auth"},u);var g;(function(e){e[e["Array"]=0]="Array",e[e["Boolean"]=1]="Boolean",e[e["Double"]=2]="Double",e[e["Integer"]=3]="Integer",e[e["String"]=4]="String",e[e["Url"]=5]="Url",e[e["Dictionary"]=6]="Dictionary"})(g||(g={}));const S=(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},v),l),f),d),y),m),h);let q={};const C=e=>{switch(!0){case e in v:return g.Url;case e in f:return g.String;case e in l:return g.Boolean;case e in y:return g.Dictionary;case e in d:return g.Array;case e in h:return g.Integer;case e in m:return g.Double;default:return q[e].type}},P=Object.keys(S).reduce(((e,t)=>(e[t]={value:S[t],type:C(t)},e)),{});let A;q=(0,a.Z)({},P);const $=e=>{const t=q[e],{value:n}=t;if("undefined"!==typeof n)return n;throw new Error(`Missing bag value for "${e}"`)},w=(e,t)=>{const n=q[e]||{},a=null===n||void 0===n?void 0:n.type,o=t||a;return[{key:e,type:o}]},I=e=>{try{return $(e)}catch(t){throw t}},k=e=>e.reduce(((e,t)=>{try{return(0,a.Z)((0,a.Z)({},e),{},{[t.key]:$(t.key)})}catch(n){return e}}),{}),R=async e=>{const t=C(e),n=w(e,t);try{const t=A&&await A(n);if(t&&"undefined"!==typeof t[e])return t[e]}catch(a){}return I(e)},E=async(...e)=>{const t=e.map((e=>({key:e,type:C(e)})));try{const e=A&&await A(t);if(!e)throw new Error("fetch bag implementation is missing");return t.reduce(((t,n)=>{if("undefined"===typeof e[n.key])try{const e=I(n.key);if("undefined"!==typeof e)return(0,a.Z)((0,a.Z)({},t),{},{[n.key]:e})}catch(o){return t}return(0,a.Z)((0,a.Z)({},t),{},{[n.key]:e[n.key]})}),{})}catch(n){}return k(t)};o.q;var O,W,M;(function(e){e["CanBuyVppLicenses"]="UnsupportedAccountTypeForWeb_CanBuyVppLicenses",e["CanManageVppLicenses"]="UnsupportedAccountTypeForWeb_CanManageVppLicenses",e["CanShopInVolumeEducationStore"]="UnsupportedAccountTypeForWeb_CanShopInVolumeEducationStore",e["CanShopInVolumeEnterpriseStore"]="UnsupportedAccountTypeForWeb_CanShopInVolumeEnterpriseStore",e["ConversionRequired"]="UnsupportedAccountTypeForWeb_ConversionRequired",e["IsManagedAppleId"]="UnsupportedAccountTypeForWeb_IsManagedAppleId",e["IsSpecialEduAccount"]="UnsupportedAccountTypeForWeb_IsSpecialEduAccount",e["SecurityUpgradeRequired"]="UnsupportedAccountTypeForWeb_SecurityUpgradeRequired",e["LiteAccount"]="UnsupportedAccountTypeForWeb_LiteAccount",e["NoAccountFound"]="NoAccountFound",e["IneligibleStorefront"]="IneligibleStoreFront",e["Unauthorized"]="Unauthorized",e["IsDormant"]="UnsupportedAccountTypeForWeb_IsDormant"})(O||(O={})),function(e){e["DefaultWeb"]="web",e["WebService"]="ws",e["GrandSlam"]="gs"}(W||(W={})),function(e){e["Inline"]="inline",e["Modal"]="modal"}(M||(M={}));var U=n(92162),T=(n(70309),n(27886),n(87985));var V=n(1724);const _=e=>(0,T.I)(V.v).find((t=>V.v[t]===e))||"US";var L=n(79846),D=(n(80417),n(40812),n(60647),n(23395),n(96391),n(17125),n(69632),n(9564),n(31364)),x=n(16236);const F={[x.x.Business]:"https://vpp.itunes.apple.com",[x.x.BusinessEssentials]:"https://group.itunes.apple.com",[x.x.Education]:"https://volume.itunes.apple.com",[x.x.SharedBusiness]:"https://vpp.itunes.apple.com",[x.x.SharedEducation]:"https://volume.itunes.apple.com"},B="podcastsconnect",Z="apps",j="activate",N="link",G="tv",z=[j,G,"music","podcasts",B,Z,N],K=["cp","carry","beta","nightly","itms[0-9]+","itms[0-9]+-charts","dev"],Y=new RegExp(`^https:\\/\\/(?:${K.join("|")})?[-.]??(${z.join("|")}).apple.com`,"i"),H=/^https?:\/\/(?:.+\.)?(.+).apple.com/,J=/^[a-z]+$/i;let Q,X;const ee=e=>{const t=[x.x.Music,x.x.ClassicalMusic,x.x.Tv,x.x.Activate,x.x.Podcasts,x.x.Business,x.x.Education,x.x.BusinessEssentials,x.x.SharedBusiness,x.x.SharedEducation,B,Z];return t.includes(e.toLowerCase())},te=(e=ne())=>!!F[e],ne=(e={origin:location.origin,query:location.search,useCache:!0})=>{var t,n,a;const o=null!==(t=e.origin)&&void 0!==t?t:location.origin,r=null!==(n=e.query)&&void 0!==n?n:location.search,i=null===(a=e.useCache)||void 0===a||a;if(i&&Q)return Q;let c="";const s=o.match(Y),p=s&&s[1],u=(0,D.Jl)(r),{product:l,returnPath:d}=u;if(l&&J.test(l))c=l;else if(d&&decodeURIComponent(d).match(/product=/i)){const{product:e}=(0,D.Jl)(decodeURIComponent(d));c=e}else p&&ee(p)&&(c=p);return c===x.x.ClassicalMusic?(c=x.x.Music,X=!0):X=!1,c=c.toLowerCase(),Q=c,c},ae=()=>{var e;const t=null===(e=window.location.origin.match(H))||void 0===e?void 0:e[1];return(null===t||void 0===t?void 0:t.endsWith(B))?B:t},oe=(e,t)=>e.replace(/(http[s]?:\/\/){1}([\w\-.]+)/gi,t),re=(e,t)=>te(t)?oe(e,F[t]):e,ie={[x.x.Music]:"https://amp-account.music.apple.com",[x.x.Tv]:"https://amp-account.tv.apple.com",[x.x.Podcasts]:"https://amp-account.podcasts.apple.com",[x.x.PodcastsConnect]:"https://amp-account.podcasts.apple.com",[x.x.PodcastsConnectDeprecated]:"https://amp-account.podcasts.apple.com"},ce={apps:"https://amp-account.apps.apple.com",link:"https://amp-account.link.apple.com"};let se,pe={state:{}};(0,a.Z)((0,a.Z)({},U.q),{GetCoverage:"getCoveredDevices"});const ue=(0,a.Z)((0,a.Z)({},v),f),le=()=>{var e;const t=pe.state.storefront||L.C.UnitedStatesOfAmerica,n=pe.state.productContext||ne(),o=fe(),i=ce[o||""]||ie[n]||ie[x.x.Music],c=_(t).toLowerCase();let s,p;const u=null===(e=pe.state.config)||void 0===e?void 0:e.webBag;return u&&({webLogoutUrl:s,webLogoutAllUrl:p}=u),(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},ue),{},{[U.q.AccountCreateOptions]:`https://buy.${o}.apple.com/account/restricted/create/options`,[U.q.AccountConversionInit]:`${i}/account/v1/web/convert/init`,[U.q.AccountConversionSetSignedup]:`${i}/account/v1/web/convert/setSignedUp`,[U.q.AccountPodSrv]:`https://buy.${o}.apple.com/account/pod`,[U.q.AccountSettingsSrv]:`https://buy.${o}.apple.com/account/information/sections`,[U.q.AcknowledgePrivacy]:`https://buy.${o}.apple.com/account/gdpr/acknowledgePrivacy`,[U.q.ApsJwsUrl]:`https://buy.${o}.apple.com/account/v1/aps/jws/get`,[U.q.AppAccessRequest]:`https://buy.${o}.apple.com/commerce/oauth2/internal/validate`,[U.q.AuthGrandSlam]:"https://auth.apps.apple.com/auth/v1/gs",[U.q.AuthWebService]:"https://auth.apps.apple.com/auth/v1/ws",[U.q.AuthWebServiceRefresh]:"https://auth.apps.apple.com/auth/v1/ws/refresh",[U.q.AmpTermsGetUrl]:`https://amp-account.${o}.apple.com/account/terms/info`,[U.q.AmpTermsVerifyUrl]:`https://amp-account.${o}.apple.com/account/terms`,[U.q.BuySubscription]:`https://buy.${o}.apple.com/commerce/web/buy/subscription`,[U.q.CarrierLinkSrv]:`https://buy.${o}.apple.com/WebObjects/MZFinance.woa/wa/carrierLinkSrv`,[U.q.linkChannelSubscription]:"https://p2-buy.itunes.apple.com/commerce/channel/link",[U.q.CreateAccountFieldsSrv]:`https://amp-account.${o}.apple.com/account/v1/field/createAccountFieldsSrv`,[U.q.GetChannelSubscriptionOfferParameters]:`https://speedysub.${o}.apple.com/subscription/v1/channel/parameters`,[U.q.ChannelSendSms]:"https://buy.itunes.apple.com/commerce/channel/send-sms-code",[U.q.ChannelVerifySms]:"https://buy.itunes.apple.com/commerce/channel/verify-sms-code",[U.q.DeviceLinkValidate]:`${i}/account/device-link/validate`,[U.q.EditBillingInfoSrv]:`https://buy.${o}.apple.com/account/v1/nonstackable/paymentInfos/edit`,[U.q.GenerateAndSendSecCodeSrv]:`https://amp-account.${o}.apple.com/account/v2/create/generateAndSendSecCode`,[U.q.GenerateEmailConfirmationCodeSrv]:`https://amp-account.${o}.apple.com/account/v2/create/emailConfirmationCode`,[U.q.GetPayPalUrl]:`https://buy.${o}.apple.com/WebObjects/MZFinance.woa/wa/getPayPalUrl`,[U.q.GetTermsByCountryAndTypeSrv]:`https://buy.${o}.apple.com/WebObjects/MZFinance.woa/wa/getTermsByCountryAndTypeSrv`,[U.q.CheckEmployeeLinkStatus]:"https://amp-corp-account.itunes.apple.com/corp/account/v1/isCorpAccountLinked",[U.q.GenerateEmployeeLinkToken]:"https://amp-corp-account.itunes.apple.com/corp/account/v1/getCorpAccountLinkToken",[U.q.EmployeeOffersUrl]:"https://link.apple.com/verify-status/employee",[U.q.EditAccountFieldsSrvV2]:`https://buy.${o}.apple.com/account/v1/editAccountFields/get`,[U.q.IdVerificationFieldsSrv]:`https://buy.${o}.apple.com/account/idverification/fields`,[U.q.InitiateIdVerification]:`https://buy.${o}.apple.com/account/idverification/initiate`,[U.q.Logout]:(null===s||void 0===s?void 0:s.replace(r.Ru,o))||`https://buy.${o}.apple.com/account/web/logout`,[U.q.LogoutAll]:(null===p||void 0===p?void 0:p.replace(r.Ru,o))||`https://buy.${o}.apple.com/account/web/logout/all`,[U.q.NuDataSyncResponseSrv]:`https://buy.${o}.apple.com/WebObjects/MZFinance.woa/wa/nuDataSyncResponseSrv`,[U.q.OverlappingPlans]:` https://speedysub.${o}.apple.com/subscription/v3/manage/overlappingPlans`,[U.q.ParentalControlsDisable]:`${i}/account/parentalControls/disable`,[U.q.ParentalControlsEdit]:`${i}/account/parentalControls/settings/edit`,[U.q.ParentalControlsPinEdit]:`${i}/account/parentalControls/pin/edit`,[U.q.ParentalControlsPinVerify]:`${i}/account/parentalControls/pin/verify`,[U.q.ParentalControlsRecoveryEmailEdit]:`${i}/account/parentalControls/recoveryEmail/edit`,[U.q.ParentalControlsRecoveryEmailSend]:`${i}/account/parentalControls/recoveryEmail/send`,[U.q.ParentalControlsSetup]:`${i}/account/parentalControls/setUp`,[U.q.PartnerLinkInitiate]:`${i}/account/v1/partnerLink/initiateLink`,[U.q.PartnerLinkComplete]:`https://buy.${o}.apple.com/account/v1/partnerLink/completeLink`,[U.q.PaymentOptionsSrv]:`https://buy.${o}.apple.com/account/paymentOptions`,[U.q.RedeemCodeInfo]:`https://buy.${o}.apple.com/commerce/web/redeemInfo`,[U.q.RedeemSubscription]:`https://buy.${o}.apple.com/commerce/web/redeem/subscription`,[U.q.ReInitiateIdVerification]:`https://buy.${o}.apple.com/account/idverification/reinitiate`,[U.q.SendCarmOtp]:`https://buy.${o}.apple.com/WebObjects/MZFinance.woa/wa/sendCarmOtp`,[U.q.CarrierBillingOtpInitiate]:`https://buy.${o}.apple.com/payment/carrierbilling/otp/initiate`,[U.q.CarrierBillingOtpReinitiate]:`https://buy.${o}.apple.com/payment/carrierbilling/otp/reinitiate`,[U.q.CarrierBillingValidateOtp]:`https://buy.${o}.apple.com/payment/carrierbilling/otp/validate`,[U.q.CarrierChannelLinkSrv]:`https://buy.${o}.apple.com/commerce/web/channel/link`,[U.q.CarrierChannelSendSmsSrv]:`https://buy.${o}.apple.com/commerce/web/channel/send-sms-code`,[U.q.CarrierChannelVerifySmsSrv]:`https://buy.${o}.apple.com/commerce/web/channel/verify-sms-code`,[U.q.SubscriptionConfirmation]:`https://buylite.${o}.apple.com/web/buy/subscriptionConfirmationDialog`,[U.q.SubscriptionOffers]:`https://buy.${o}.apple.com/commerce/web/subscription/offers/`,[U.q.SubscriptionStatus]:`https://speedysub.${o}.apple.com/subscription/v1/web/status/`,[U.q.SubscriptionStatusLegacy]:`https://buy.${o}.apple.com/commerce/web/subscription/status/`,[U.q.SubscriptionsSrv]:`https://buy.${o}.apple.com/commerce/web/subscription`,[U.q.TermsAndConditions]:"https://www.apple.com/legal/internet-services/itunes/",[U.q.TermsCheckSrv]:`https://buy.${o}.apple.com/account/terms`,[U.q.ThirdPartyLogin]:`https://buy.${o}.apple.com/commerce/oauth2/internal/authorization`,[U.q.TvAgeVerifyPayment]:`https://buy.${o}.apple.com/account/verifyPayment`,[U.q.ValidateAccountFieldsSrv]:`https://buy.${o}.apple.com/account/v2/create/validateFields`,[U.q.ValidateAccountCredentials]:`https://auth.${o}.apple.com/auth/v2/accountName/validate`,[U.q.ValidateAccountNameSrv]:`https://auth.${o}.apple.com/auth/v1/web/accountName/validate`,[U.q.InitializeSessionSrv]:`https://auth.${o}.apple.com/auth/v1/liteReplayProtection/initializeSession`,[U.q.ValidateCarm]:`https://buy.${o}.apple.com/WebObjects/MZFinance.woa/wa/validateCarm`,[U.q.ValidateEmailConfirmationCodeSrv]:`https://amp-account.${o}.apple.com/account/v2/create/validateEmailConfirmationCode`,[U.q.ValidateSecCodeSrv]:`https://amp-account.${o}.apple.com/account/v2/create/validateSecCode`,[U.q.VerifyIdVerification]:`https://buy.${o}.apple.com/account/idverification/verify`,[U.q.PaymentChallengeInitiate]:`https://buy.${o}.apple.com/account/challenge/initiate`,[U.q.PaymentChallengeVerify]:`https://buy.${o}.apple.com/account/challenge/verify`,[U.q.WatchListSettings]:`https://buy.${o}.apple.com/account/v1/watchList/settings`,[U.q.WebAccountInfo]:`https://buy.${o}.apple.com/account/web/info`,[U.q.WebAccountInfoRefresh]:`https://buy.${o}.apple.com/account/web/infoRefresh`,[U.q.QrAuthValidate]:`https://auth.${o}.apple.com/auth/v1/qr/validate`,[U.q.QrAuthLink]:`https://auth.${o}.apple.com/auth/v1/qr/link`,[U.q.QrAuthRoute]:`https://auth.${o}.apple.com/auth/v1/qr/route`,[U.q.RegisterDeviceFpdi]:`https://buy.${o}.apple.com/commerce/account/subscription/offers/device`,[U.q.IdmsSignin]:"https://idmsa.apple.com/IDMSWebAuth/signin",[U.q.IdmsSigninUAT]:"https://idmsa-uat.apple.com/IDMSWebAuth/signin",[U.q.StoreFrontId]:"143441",[U.q.GetRestrictedCreateAccountOptions]:`https://buy.${o}.apple.com/account/restricted/create/options`},c?{[U.q.ParentalControlsVideo]:`https://amp-api.videos.apple.com/v1/storefronts/${c}?include=rating-systems`,[U.q.ParentalControlsMusic]:`https://amp-api.music.apple.com/v1/storefronts/${c}`}:{}),{},{[U.q.ValidateOauthLinkCode]:"https://oauth.link.apple.com/api/v1/oauth/validate",[U.q.QrAuthWeb]:`https://auth.${o}.apple.com/auth/v1/web`,[U.q.InitializeOauthLinkFlow]:"https://oauth.link.apple.com/api/v1/oauth/authorization",[U.q.CancelBuy]:`https://buy.${o}.apple.com/commerce/web/buy/cancelBuy`,[U.q.MercuryBaseUrlTv]:"https://amp-api.videos.apple.com",[U.q.MercuryBaseUrlMusic]:"https://amp-api.music.apple.com",[U.q.InboxMessages]:`https://buy.${o}.apple.com/commerce/web/v1/messages/inbox`,[U.q.AndroidMusicRedeemReferrerUrl]:"https://music.apple.com/redeem",[U.q.PrivacyConsentConsent]:`https://buy.${o}.apple.com/account/v1/pipl/cbpc/apple/consent`,[U.q.PrivacyConsentDissent]:`https://buy.${o}.apple.com/account/v1/pipl/cbpc/apple/dissent`,[U.q.PrivacyConsentQueryConsent]:`https://buy.${o}.apple.com/account/v1/pipl/cbpc/isConsentRequired`,[U.q.RemoteUnlink]:`https://auth.${o}.apple.com/auth/v1/partner/unlink`,[U.q.SubscriptionNotify]:`https://buy.${o}.apple.com/commerce/web/subscription/notify`,[U.q.GooglePlayStoreAppleMusicUrl]:"https://play.google.com/store/apps/details?id=com.apple.android.music"},"android-tv"===me?{[U.q.CreateAccountSrv]:`https://buy.${o}.apple.com/account/v3/create`}:{[U.q.CreateAccountSrv]:`https://buy.${o}.apple.com/account/v2/create`}),{[U.q.GooglePlayStoreAppleTvUrl]:"https://play.google.com/store/apps/details?id=com.apple.atve.androidtv.appletv",[U.q.GooglePlayStoreAppleTvAppLinkReferrer]:"appletv_link_success=true"}),{getCoveredDevices:`${(0,r.c8)(o)}/speedyManage/v3/manage/devices`,coverageCentral:"https://coverage.apple.com/cc/acUD89R"}),{})};let de;let me;const he=e=>{(null===e||void 0===e?void 0:e.store)&&(pe=e.store),(null===e||void 0===e?void 0:e.getBagValueOverride)&&(de=e.getBagValueOverride),me=(null===e||void 0===e?void 0:e.variant)||"standard",se=ae(),se===j&&(se=null)},ye=/{([^}]+)}/g,be=(e,t)=>t?e.replace(ye,((e,n)=>{const a=t[n];return a||n})):e,ve=(e,t)=>{let n="undefined"!==typeof de&&de(e)?de(e):le()[e];if(!n)throw new Error("Bag value missing");return e in ue&&(n=n.replace(r.Ru,fe())),n=re(n,ne()),be(n,t)},fe=()=>se||r.Ru;var ge=n(64382);function Se(e,t){if(null==e)return{};var n,a,o={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(o[n]=e[n]);return o}function qe(e,t){if(null==e)return{};var n,a,o=Se(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}n(67904);var Ce=n(5299),Pe=n(97117);n(65978);const Ae=e=>{const t=null===e||void 0===e?void 0:e.body;return!!(t&&"object"===typeof t&&"status"in t&&-1===parseInt(t.status,10)&&"dialog"in t&&"object"===typeof t.dialog)},$e=[],we=async(e,t)=>{const{response:n}=e;if(!Ae(n))return n;const o=$e.find((e=>e.rule(n)));if(!o)return n;try{const r=await o.action(n);if(!o.replayOnSuccess)return n;let i;const c=e.request.options;(null===c||void 0===c?void 0:c.body)&&r&&(i=(0,a.Z)((0,a.Z)({},c),{},{body:JSON.stringify((0,a.Z)((0,a.Z)({},JSON.parse(c.body)),r))}));const s=await t(e.request.resource,i||c);return we({request:e.request,response:s},t)}catch(r){throw r}};var Ie=n(7839),ke=n(39379);const Re=["shouldRetryOn401","contentType","headers","body","method","interceptorOptions","shouldDisableInterceptors","queryParams","enableDialogInterceptors"],Ee={};let Oe,We=()=>{},Me=L.C.UnitedStatesOfAmerica,Ue="en-us",Te=!1;const Ve=(e="en-us")=>{const t=e.toLowerCase(),n=ke.Z[t];if(n)return n;const a=e.includes("-");if(a){const t=e.split("-")[0],n=t.toLowerCase(),a=ke.Z[n];if(a)return a}return ke.Z["en-us"]},_e=()=>{const e=Me,t=i.F[e],n=t?Ve(Ue):"1",a=i.F[e]||i.F.USA;return`${a}-${n},8`},Le=e=>{const t=new Headers;return t.set("X-Apple-Store-Front",_e()),t.set("Accept-Language",Ue||"en-us"),t.set("Content-Type",Ie.zc.Json),e instanceof Headers?e.forEach(((e,n)=>{t.set(n,e)})):"object"===typeof e&&Object.entries(e).forEach((([e,n])=>{t.set(e,n)})),t},De=async(e,t={})=>{const n="include",{shouldRetryOn401:o,contentType:r,headers:i,body:c,method:s,interceptorOptions:p,shouldDisableInterceptors:u,queryParams:l,enableDialogInterceptors:d}=t,m=qe(t,Re),h=await(0,Ce.Pl)(e,Oe||Pe.W,{onFinishedCallback:We,shouldRetryOn401:o||Te,interceptors:Ee,headers:Le(i),body:c,contentType:r,interceptorOptions:p,shouldDisableInterceptors:u,method:s,queryParams:l,fetchOptions:(0,a.Z)({credentials:n},m)},{maxRetries:0});return d?await we({request:{resource:e,options:t},response:h},De):h},xe=async(e,t={})=>(await De(e,t)).body;var Fe=n(73337),Be=n(18021),Ze=n(36287),je=n(2809);const Ne=()=>!1,Ge=(Ne(),!1);var ze,Ke=n(19934);n(84163),n(28435);(function(e){e["AccountConfirmation"]="account-confirmation",e["AccountConversion"]="account-conversion",e["AccountConversionBillingAddress"]="account-conversion-billing-address",e["AccountSettings"]="account-settings",e["AccountSettingsChooseSubPlan"]="account-settings-choose-plan",e["AccountSettingsEditSubPlan"]="account-settings-edit-plan",e["AgeVerification"]="age-verification",e["AgeVerificationLanding"]="age-verification-landing",e["AgeVerificationForm"]="age-verification-form",e["AgeVerificationVerifySms"]="age-verification-verify-sms",e["AgeVerificationConfirmation"]="age-verification-confirmation",e["AlreadySubscriber"]="already-subscriber",e["Authenticate"]="authenticate",e["SilentAuthenticate"]="silent-authenticate",e["Base"]="base",e["Billing"]="billing",e["BillingInfo"]="billing-info",e["BuyV2"]="buy-v2",e["BuyV2Success"]="buy-v2-success",e["BuyV2InterruptLegacy"]="buy-v2-interrupt-legacy",e["BuyV2InterruptErrorAlreadySubscribed"]="buy-v2-interrupt-error-already-subscribed",e["BuyV2InterruptFamilyPermissionRequired"]="buy-v2-interrupt-family-permission-required",e["BuyV2InterruptBuyPending"]="buy-v2-interrupt-buy-pending",e["BuyV2InterruptTerminalDialog"]="buy-v2-interrupt-terminal-dialog",e["BuyV2ErrorStorefrontMismatch"]="buy-v2-error-storefront-mismatch",e["BuyWithBilling"]="buy-with-billing",e["CarrierBilling"]="carrier-billing",e["CarrierSendSms"]="carrier-send-sms",e["CarrierVerifySms"]="carrier-verify-sms",e["ChannelPlatformLanding"]="channel-platform-landing",e["ChannelPlatformConfirmation"]="channel-platform-confirmation",e["ChannelPlatformInstallApp"]="channel-platform-app-uninstalled",e["ChannelPlatformSuccessChina"]="channel-platform-success-china",e["CaptureChinaPhoneNumber"]="capture-china-phone-number",e["ContentRestricted"]="content-restricted",e["ContextualUpsell"]="contextual-upsell",e["ContextualPodcastsUpsell"]="contextual-podcasts-upsell",e["ContextualSportsUpsell"]="contextual-sports-upsell",e["ContextualPlatterSeeAllPlansUpsell"]="contextual-platter-see-all-plans-upsell",e["ContextualPlatterUpsell"]="contextual-platter-upsell",e["ContextualTeamSelection"]="contextual-team-selection",e["ConfirmConsent"]="confirm-consent",e["Create"]="create",e["CreateAccount"]="create-account",e["CreateAccountV2"]="create-account-v2",e["CreateLanding"]="create-landing",e["CreateLandingV2"]="create-landing-v2",e["ClearPlayHistory"]="clear-play-history",e["CreateSubscribeConfirmDialog"]="create-subscribe-confirm-dialog",e["DeviceLinkLanding"]="device-link-landing",e["DeviceLinkSuccess"]="device-link-success",e["DialogLegacy"]="dialog-legacy",e["DynamicNavigator"]="dynamic-navigator",e["EditBilling"]="edit-billing",e["FetchProxy"]="fetch-proxy",e["FreeContentAccountCreated"]="free-content-account-created",e["FreeContentLanding"]="free-content-landing",e["GenericDialog"]="generic-dialog",e["InboxMessages"]="inbox-messages",e["LegalAgeVerification"]="legal-age-verification",e["Logout"]="logout",e["SignoutEverywhere"]="signout-everywhere",e["NotFound"]="not-found",e["OAuth"]="oauth",e["Offer"]="offer",e["OfferUnsupported"]="offer-unsupported",e["PasscodeReset"]="passcode-reset",e["PaymentVerificationDetails"]="payment-verification-details",e["ManagePayments"]="manage-payments",e["ManageSubscription"]="manage-subscription",e["ManageSubscriptionDetail"]="manage-subscription-detail",e["MercuryUpsell"]="mercury-upsell",e["MusicPlanSelection"]="music-plan-selection",e["MusicStudentUpsell"]="music-student-upsell",e["MusicStudentSubscribe"]="music-student-subscribe",e["OauthLanding"]="oauth-landing",e["PartnerLinkLanding"]="partner-link-landing",e["PartnerLinkConfirm"]="partner-link-confirm",e["PaymentRecovery"]="payment-recovery",e["PaymentVerificationOtp"]="payment-verification-otp",e["PaymentVerificationSuccess"]="payment-verification-success",e["PodcastsConnectSubscribe"]="podcasts-connect-subscribe",e["PodcastsConnectRenew"]="podcasts-connect-renew",e["PlanAction"]="plan-action",e["PlanSubscribe"]="plan-subscribe",e["Privacy"]="privacy",e["PrivacyStandalone"]="privacy-standalone",e["PrivacyConsentController"]="privacy-consent-controller",e["Psd2Auth"]="psd2-auth",e["Psd2DeviceProfile"]="psd2-device-profile",e["Psd2Return"]="psd2-return",e["RedeemLanding"]="redeem-landing",e["RedeemConfirmation"]="redeem-confirmation",e["RedeemCodeEntry"]="redeem-code-entry",e["RedeemSuccess"]="redeem-success",e["RedeemError"]="redeem-error",e["Resume"]="resume",e["ResumeSegmentVerification"]="resume-segment-verification",e["SegmentReverification"]="segment-reverification",e["SegmentVerified"]="segment-verified",e["ServerError"]="server-error",e["SetParentalControls"]="set-parental-controls",e["SignedOutOffer"]="signed-out-offer",e["SignedInOffer"]="signed-in-offer",e["StackablePayments"]="stackable-payments",e["StackableAddPayment"]="stackable-add-payment",e["StackableAddPaymentQr"]="stackable-add-payment-qr",e["StackableAddPaymentBase"]="stackable-add-payment-base",e["ChallengePaymentQrCode"]="challenge-payment-qr",e["StepUpDefaultQrCode"]="step-up-default-qr",e["StepUpDefaultRedirectWeb"]="step-up-default-redirect-web",e["StackableEditPayment"]="stackable-edit-payment",e["StackableEditShipping"]="stackable-edit-shipping",e["Subscribe"]="subscribe",e["SubscribeBundleLanding"]="subscribe-bundle-landing",e["SubscribeBundleWelcome"]="subscribe-bundle-welcome",e["SubscriptionEdit"]="subscription-edit",e["SubscriptionConfirmation"]="subscription-confirmation",e["SubscribeConfirmBuyDialog"]="subscribe-confirm-buy-dialog",e["SubscriptionGdprWelcomePage"]="subscription-gdpr-welcome-page",e["SubscriptionWelcomePage"]="subscription-welcome-page",e["SubscriptionNotificationSent"]="subscription-notification-sent",e["SubscriptionNotificationCenter"]="subscription-notification-center",e["SubscriptionDisclosure"]="subscription-disclosure",e["SubscriptionCancellationPending"]="subscription-cancellation-pending",e["SubscriptionOverlappingPlans"]="subscription-overlapping-plans",e["TermsAgreement"]="terms-agreement",e["ThirdParty"]="third-party",e["TVAgeVerification"]="tv-age-verification",e["Unsupported"]="unsupported",e["VerifyCarrier"]="verify-carrier",e["VerifyCarrierOffer"]="verify-carrier-offer",e["VerifyCode"]="verify-code",e["VerifyCvv"]="verify-cvv",e["VerifyEmail"]="verify-email",e["VerifyEmailV2"]="verify-email-v2",e["VerifyPhone"]="verify-phone",e["VerifyPhoneV2"]="verify-phone-v2",e["LinkhostLandingCode"]="linkhost-landing-code",e["LinkhostLandingSubscription"]="linkhost-landing-subscription",e["LinkhostOnboarding"]="linkhost-onboarding",e["LinkhostLinkSuccess"]="linkhost-link-success",e["LinkhostToggleRenewalReceipts"]="linkhost-toggle-renewal-receipts",e["LinkhostLinkingNavigation"]="linkhost-linking-navigation",e["ErrorUnsupportedCountry"]="error-unsupported-country",e["ErrorNoSubscription"]="error-no-subscription",e["OAuthError"]="oauth-error",e["OAuth2"]="oauth-activate",e["StorefrontEditCountrySelect"]="storefront-edit-country-select",e["StorefrontEditValidation"]="storefront-edit-validation",e["SubscriptionsList"]="subscriptions-list",e["SubscriptionsUnsupportedCountry"]="subscriptions-unsupported-country",e["SubscriptionDetails"]="subscription-details",e["SubscriptionPriceIncrease"]="subscription-price-increase",e["SubscriptionImpactMessaging"]="subscription-impact-messaging",e["SubscriptionCancellationSuccess"]="subscription-cancellation-success",e["SubscriptionPrivacy"]="subscription-privacy",e["SubscriptionSelection"]="subscription-selection",e["StorefrontEditValidationSuccess"]="storefront-edit-validation-success",e["StorefrontEditValidationError"]="storefront-edit-validation-error",e["StorefrontEditTerms"]="storefront-edit-terms"})(ze||(ze={}));ze.Authenticate,ze.SilentAuthenticate,ze.Offer,ze.PasscodeReset,ze.LinkhostOnboarding,ze.FreeContentLanding,ze.DynamicNavigator,ze.FetchProxy,ze.Logout;const Ye=()=>(0,D.F4)(location.search,"authType",(0,ge.T2)()?W.GrandSlam:W.DefaultWeb),He=async e=>{if((e||Ye())!==W.WebService)return;const t=new Request(ve(U.q.AuthWebServiceRefresh),{method:"POST",credentials:"include"});return fetch(t)},Je=(ze.AccountSettings,ze.BuyV2,ze.BuyWithBilling,()=>{const{theme:e,product:t,useRelativeIframeSrc:n}=(0,D.Jl)(window.location.href),{storefront:o,userPreferredLanguage:r}=(0,Ke.A)();return(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({authOptions:{type:Ye()},modalOptions:{containerSelector:"#commercekit-modal-container"},useRelativeIframeSrc:"true"===n||!(0,ge.zd)()||Ge},e&&{theme:e}),t&&{product:t}),r&&{locale:r}),o&&{storefront:o})});let Qe;const Xe=e=>{const t=(0,Ze.tv)();return Qe||(Qe=(0,je.s)((0,a.Z)({router:t,commerceKitConfig:Je(),refreshAuth:He},e)),Qe)},et=e=>async(t,n)=>{var a,o,r,i,c;if(n)try{const t=await xe(ve(n.bagKey),{headers:null===(a=n.requestOptions)||void 0===a?void 0:a.headers,body:JSON.stringify(null===(o=n.requestOptions)||void 0===o?void 0:o.body),method:null===(r=n.requestOptions)||void 0===r?void 0:r.method,contentType:null===(i=n.requestOptions)||void 0===i?void 0:i.contentType,queryParams:null===(c=n.requestOptions)||void 0===c?void 0:c.queryParams,shouldDisableInterceptors:!0});e.send("parent",Be.B_.FetchResponse,{requestId:n.requestId,httpStatus:t.status,body:t})}catch(s){s instanceof Fe.nl?e.send("parent",Be.B_.FetchResponse,{requestId:n.requestId,httpStatus:s.status,error:s}):e.send("parent",Be.B_.FetchResponse,{requestId:n.requestId,error:s})}},tt=()=>{const e=Xe({commerceKitConfig:(0,a.Z)((0,a.Z)({},Je()),{},{onBeforeBoot:e=>{e.eventEmitter.addListener(Be.B_.FetchRequest,et(e))}})});(0,ge.gi)(e)&&e.emitMessage(Be.B_.InitializedHosted,{targetId:"parent"})};(async()=>{await he(),tt()})()},52117:(e,t,n)=>{function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n.d(t,{Z:()=>r})}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var r=t[a]={id:a,loaded:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.m=e,(()=>{var e=[];n.O=(t,a,o,r)=>{if(!a){var i=1/0;for(u=0;u<e.length;u++){for(var[a,o,r]=e[u],c=!0,s=0;s<a.length;s++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(c=!1,r<i&&(i=r));if(c){e.splice(u--,1);var p=o();void 0!==p&&(t=p)}}return t}r=r||0;for(var u=e.length;u>0&&e[u-1][2]>r;u--)e[u]=e[u-1];e[u]=[a,o,r]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.j=89983})(),(()=>{n.p="/"})(),(()=>{var e={89983:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var o,r,[i,c,s]=a,p=0;if(i.some((t=>0!==e[t]))){for(o in c)n.o(c,o)&&(n.m[o]=c[o]);if(s)var u=s(n)}for(t&&t(a);p<i.length;p++)r=i[p],n.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return n.O(u)},a=self["webpackChunk_amp_ui_commerce_commerce_web_app"]=self["webpackChunk_amp_ui_commerce_commerce_web_app"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var a=n.O(void 0,[87488,87590,45681,65393,81557,27606,61215,97371],(()=>n(87081)));a=n.O(a)})();
